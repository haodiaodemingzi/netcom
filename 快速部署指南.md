# ğŸš€ æ¼«ç”»é˜…è¯»å™¨ v1.0 å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²æ¸…å•

### åç«¯éƒ¨ç½²
- [ ] å‡†å¤‡æœåŠ¡å™¨ï¼ˆLinuxæ¨èï¼‰
- [ ] éƒ¨ç½²åç«¯API
- [ ] é…ç½®åŸŸåï¼ˆå¯é€‰ï¼‰
- [ ] é…ç½®HTTPSï¼ˆå¯é€‰ï¼‰

### å‰ç«¯æ‰“åŒ…
- [ ] ä¿®æ”¹APIåœ°å€
- [ ] ç”ŸæˆAPPå›¾æ ‡
- [ ] æ‰“åŒ…APK
- [ ] æµ‹è¯•å®‰è£…

---

## ğŸ¯ æ–¹æ¡ˆä¸€ï¼šDockerä¸€é”®éƒ¨ç½²ï¼ˆæœ€ç®€å•ï¼‰

### 1. å‡†å¤‡æœåŠ¡å™¨

```bash
# è´­ä¹°äº‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘/è…¾è®¯äº‘/AWSç­‰ï¼‰
# é…ç½®: 1æ ¸2Gå³å¯
# ç³»ç»Ÿ: Ubuntu 20.04+
```

### 2. å®‰è£…Docker

```bash
# SSHç™»å½•æœåŠ¡å™¨
ssh root@your-server-ip

# å®‰è£…Docker
curl -fsSL https://get.docker.com | bash

# å¯åŠ¨Docker
systemctl start docker
systemctl enable docker
```

### 3. éƒ¨ç½²åç«¯

```bash
# ä¸Šä¼ ä»£ç åˆ°æœåŠ¡å™¨
git clone https://your-repo.git
cd your-repo/backend

# æˆ–ä½¿ç”¨scpä¸Šä¼ 
scp -r backend root@your-server-ip:/root/

# å¯åŠ¨æœåŠ¡
cd backend
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

### 4. æµ‹è¯•API

```bash
curl http://your-server-ip:5000/api/sources
```

### 5. æ‰“åŒ…APK

åœ¨æœ¬åœ°ç”µè„‘ï¼š

```bash
# 1. ä¿®æ”¹APIåœ°å€
# ç¼–è¾‘ utils/constants.js
export const API_BASE_URL = 'http://your-server-ip:5000/api';

# 2. å®‰è£…EAS
npm install -g eas-cli

# 3. ç™»å½•
eas login

# 4. æ„å»º
eas build -p android --profile preview

# 5. ç­‰å¾…10-15åˆ†é’Ÿï¼Œä¸‹è½½APK
```

âœ… **å®Œæˆï¼**

---

## ğŸ› ï¸ æ–¹æ¡ˆäºŒï¼šä¸€é”®è„šæœ¬éƒ¨ç½²

### 1. ä¸Šä¼ ä»£ç åˆ°æœåŠ¡å™¨

```bash
# æ–¹å¼1: Git
git clone https://your-repo.git
cd your-repo/backend

# æ–¹å¼2: SCP
cd c:\coding\netcom
scp -r backend root@your-server-ip:/root/comic-backend
ssh root@your-server-ip
cd /root/comic-backend
```

### 2. è¿è¡Œå®‰è£…è„šæœ¬

```bash
chmod +x install.sh
sudo bash install.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… å®‰è£…Python3
- âœ… åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
- âœ… å®‰è£…ä¾èµ–
- âœ… åˆ›å»ºç³»ç»ŸæœåŠ¡
- âœ… å¯åŠ¨æœåŠ¡

### 3. éªŒè¯æœåŠ¡

```bash
systemctl status comic-backend
curl http://localhost:5000/api/sources
```

### 4. æ‰“åŒ…APK

åŒæ–¹æ¡ˆä¸€æ­¥éª¤5

âœ… **å®Œæˆï¼**

---

## ğŸ“± å¿«é€Ÿæ‰“åŒ…æµç¨‹

### å‰ææ¡ä»¶

```bash
# å®‰è£…Node.js 16+
node --version

# å®‰è£…ä¾èµ–
cd c:\coding\netcom
npm install --legacy-peer-deps
```

### ä¿®æ”¹é…ç½®

#### 1. ä¿®æ”¹APIåœ°å€

ç¼–è¾‘ `utils/constants.js`:

```javascript
// æ”¹ä¸ºä½ çš„æœåŠ¡å™¨åœ°å€
export const API_BASE_URL = 'http://123.45.67.89:5000/api';
// æˆ–ä½¿ç”¨åŸŸå
export const API_BASE_URL = 'https://api.yoursite.com/api';
```

#### 2. å‡†å¤‡å›¾æ ‡

```bash
# æ›¿æ¢ä»¥ä¸‹æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
assets/icon.png           # 1024x1024
assets/adaptive-icon.png  # 1024x1024  
assets/splash.png         # 1284x2778
```

### æ‰“åŒ…APK

```bash
# æ–¹å¼1: EAS Build (æ¨è)
npm install -g eas-cli
eas login
eas build:configure
eas build -p android --profile preview

# æ–¹å¼2: Expo Build
expo build:android -t apk

# æ–¹å¼3: æœ¬åœ°æ„å»º
npx expo prebuild
cd android
./gradlew assembleRelease
```

âœ… **å®Œæˆï¼APKåœ¨æ„å»ºå®Œæˆåä¸‹è½½**

---

## ğŸŒ é…ç½®åŸŸåå’ŒHTTPSï¼ˆå¯é€‰ï¼‰

### 1. åŸŸåè§£æ

åœ¨åŸŸåæä¾›å•†å¤„æ·»åŠ Aè®°å½•ï¼š

```
ç±»å‹: A
ä¸»æœº: api (æˆ–@)
å€¼: ä½ çš„æœåŠ¡å™¨IP
TTL: 600
```

### 2. å®‰è£…Nginx

```bash
sudo apt-get install nginx
```

### 3. é…ç½®åå‘ä»£ç†

åˆ›å»º `/etc/nginx/sites-available/comic-backend`:

```nginx
server {
    listen 80;
    server_name api.yoursite.com;

    location / {
        proxy_pass http://localhost:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

å¯ç”¨é…ç½®ï¼š

```bash
sudo ln -s /etc/nginx/sites-available/comic-backend /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

### 4. é…ç½®HTTPS

```bash
# å®‰è£…Certbot
sudo apt-get install certbot python3-certbot-nginx

# è·å–è¯ä¹¦
sudo certbot --nginx -d api.yoursite.com

# è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run
```

### 5. ä¿®æ”¹APPé…ç½®

```javascript
export const API_BASE_URL = 'https://api.yoursite.com/api';
```

é‡æ–°æ‰“åŒ…APKå³å¯ã€‚

---

## ğŸ› æ•…éšœæ’æŸ¥

### åç«¯é—®é¢˜

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
systemctl status comic-backend

# æŸ¥çœ‹æ—¥å¿—
journalctl -u comic-backend -f

# æˆ–Dockeræ—¥å¿—
docker-compose logs -f

# é‡å¯æœåŠ¡
systemctl restart comic-backend
# æˆ–
docker-compose restart
```

### APPè¿æ¥é—®é¢˜

1. **æ£€æŸ¥APIåœ°å€æ˜¯å¦æ­£ç¡®**
```bash
curl http://your-api-address/api/sources
```

2. **æ£€æŸ¥æœåŠ¡å™¨é˜²ç«å¢™**
```bash
# å¼€æ”¾5000ç«¯å£
sudo ufw allow 5000
```

3. **æ£€æŸ¥APPæƒé™**
- ç½‘ç»œæƒé™
- å­˜å‚¨æƒé™

### æ‰“åŒ…é—®é¢˜

```bash
# æ¸…ç†ç¼“å­˜
npx expo start -c
rm -rf node_modules
npm install --legacy-peer-deps

# é‡æ–°æ„å»º
eas build -p android --profile preview --clear-cache
```

---

## ğŸ“Š èµ„æºéœ€æ±‚

### æœåŠ¡å™¨é…ç½®

| ç”¨æˆ·é‡ | CPU | å†…å­˜ | ç¡¬ç›˜ | å¸¦å®½ |
|--------|-----|------|------|------|
| < 100 | 1æ ¸ | 1G | 20G | 1M |
| < 500 | 1æ ¸ | 2G | 40G | 3M |
| < 1000 | 2æ ¸ | 4G | 60G | 5M |

### æˆæœ¬ä¼°ç®—

| é¡¹ç›® | è´¹ç”¨ |
|------|------|
| äº‘æœåŠ¡å™¨ | Â¥50-200/æœˆ |
| åŸŸå | Â¥50-100/å¹´ |
| SSLè¯ä¹¦ | å…è´¹ï¼ˆLet's Encryptï¼‰|
| **æ€»è®¡** | **Â¥70-250/æœˆ** |

---

## âœ… æœ€ç»ˆæ£€æŸ¥

éƒ¨ç½²å®Œæˆåï¼Œæ£€æŸ¥ï¼š

### åç«¯
- [ ] APIå¯è®¿é—®
- [ ] æ¥å£è¿”å›æ­£å¸¸
- [ ] æœåŠ¡è‡ªåŠ¨å¯åŠ¨
- [ ] æ—¥å¿—æ­£å¸¸

### APP
- [ ] èƒ½æ­£å¸¸å®‰è£…
- [ ] é¦–é¡µåŠ è½½æ­£å¸¸
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸
- [ ] ä¸‹è½½åŠŸèƒ½æ­£å¸¸
- [ ] é˜…è¯»å™¨æ­£å¸¸

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ æœ‰äº†ï¼š
- âœ… ç¨³å®šè¿è¡Œçš„åç«¯API
- âœ… å¯åˆ†å‘çš„Android APK
- âœ… å®Œæ•´çš„éƒ¨ç½²æ–‡æ¡£

### ä¸‹ä¸€æ­¥

1. **æµ‹è¯•**: å®Œæ•´æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
2. **ä¼˜åŒ–**: æ ¹æ®ä½¿ç”¨æƒ…å†µä¼˜åŒ–æ€§èƒ½
3. **å‘å¸ƒ**: ä¸Šä¼ åˆ°åº”ç”¨å•†åº—æˆ–åˆ†äº«ç»™ç”¨æˆ·
4. **ç»´æŠ¤**: å®šæœŸæ›´æ–°å’Œå¤‡ä»½

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

é‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥æ—¥å¿—
2. æŸ¥çœ‹æ–‡æ¡£
3. æœç´¢é”™è¯¯ä¿¡æ¯
4. æ¸…ç†ç¼“å­˜é‡è¯•

ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸš€
